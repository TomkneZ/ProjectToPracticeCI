<div class="students">
    <h1>Active students</h1>
    <table name="studentstable" mat-table [dataSource]="students" class="mat-elevation-z8">
        <container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let student">
                {{student?.name | truncatetext : 15}}
                <div *fullname="student.selected">
                    {{student?.name}}
                </div>
            </td>
        </container>

        <container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let student"> {{student?.email}} </td>
        </container>

        <container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef> Phone </th>
            <td mat-cell *matCellDef="let student"> {{student?.phone}} </td>
        </container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"
            (click)="showFullName(row)">
        </tr>
    </table>

    <form [formGroup]="form" novalidate>
        <mat-form-field class="form-group" color="accent" appearance="fill">
            <mat-label>First Name</mat-label>
            <input matInput class="form-control firstName" type="text" name="firstName" formControlName="firstName" />
            <div class="alert alert-danger"
                 *ngIf="form.controls['firstName'].invalid && form.controls['firstName'].touched">
                First Name is not specified!
            </div>
        </mat-form-field>
        <br />
        <mat-form-field class="form-group" color="accent" appearance="fill">
            <mat-label>Last Name</mat-label>
            <input matInput class="form-control lastName" type="text" name="lastName" formControlName="lastName" />
            <div class="alert alert-danger"
                 *ngIf="form.controls['lastName'].invalid && form.controls['lastName'].touched">
                Last Name is not specified!
            </div>
        </mat-form-field>
        <br />
        <mat-form-field class="form-group" color="accent" appearance="fill">
            <mat-label>Phone</mat-label>
            <input matInput class="form-control phone" type="text" name="phone" formControlName="phone" />
            <div class="alert alert-danger"
                 *ngIf="form.controls['phone'].invalid && form.controls['phone'].touched">
                Phone is not specified!
            </div>
        </mat-form-field>
        <br />
        <mat-form-field class="form-group" color="accent" appearance="fill">
            <mat-label>Email</mat-label>
            <input matInput class="form-control email" type="email" name="email" formControlName="email" />
            <div class="alert alert-danger"
                 *ngIf="form.controls['email'].invalid && form.controls['email'].touched">
                Email is not specified!
            </div>
        </mat-form-field>
        <div class="form-group">
            <button mat-raised-button name="addStudentButton" (click)="addStudent()">Add student</button>
        </div>
    </form>
</div>
